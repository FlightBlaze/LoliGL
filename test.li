import sys
import "cmake-build-debug/GL" as GL

# define `future` functions
future fn glutKeyboardFunc(Byte, Integer, Integer) { ... }
future fn glutDisplayFunc                          { ... }

# init window
GL.glutInit               ("Test OpenGL application in loli")
GL.glutInitDisplayMode    (GL.GLUT_RGBA | GL.GLUT_SINGLE)
GL.glutInitWindowSize     (200, 200)
GL.glutInitWindowPosition (100, 100)

# create window
GL.glutCreateWindow       (GL.loliGlVersion)

# bind functions
GL.glutDisplayFunc        (glutDisplayFunc)
GL.glutKeyboardFunc       (glutKeyboardFunc)

GL.glutSetCursor(GL.GLUT_CURSOR_RIGHT_ARROW)

# main loop
GL.glutMainLoop           ()

fn glutKeyboardFunc(key: Byte, arg1: Integer, arg2: Integer) {

    if (key == 27t): { sys.exit(0) } # on `Esc` press ...
}

fn glutDisplayFunc {
    GL.example()
}