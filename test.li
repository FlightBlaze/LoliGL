import sys
import GL

fn glutDisplayFunc {
    GL.example() # TODO: delete it
}

fn glutKeyboardFunc(key: Byte, arg1: Integer, arg2: Integer) {
    if (key == 27t): { # on `Esc` press ...
            sys.exit(0)
        else:
           GL.glutSetWindowTitle(key.to_s())
    }
}

GL.glutInit("Test OpenGL application in loli")
GL.glutInitDisplayMode(GL.GLUT_RGB | GL.GLUT_SINGLE)
GL.glutInitWindowSize(200, 200)
GL.glutInitWindowPosition(100, 100)
var window = GL.glutCreateWindow(GL.loliGlVersion)
GL.glutDisplayFunc()
GL.glutKeyboardFunc()
GL.glutMainLoop()